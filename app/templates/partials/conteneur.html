<!-- Template pour le conteneur du site -->

<!DOCTYPE html>
<html lang="fr">
  <head>
    <link rel='icon' href="https://cdn-icons-png.flaticon.com/512/7593/7593027.png" type='image/x-icon' sizes="16x16" />
    <title>Le poète à la main verte | {{sous_titre}}</title>
    {% include "partials/css.html" %}
    {% include "partials/metadata.html" %}
    {% include "partials/js.html" %}
    {% block js %}{%endblock%}
    {% block css %}{%endblock%}

    <style>
      ul.navbar-nav {
        margin-top: 10px;
        margin-left: 20px;
      }
    
      .text-center{
        font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
        color:white;
        text-decoration-line: underline;
        margin-top: 120px;
        font-variant: small-caps;
        font-weight: bold;
        font-size: 60px;
        text-shadow: 2px 2px 4px olive;
      }

      .nav-item {
        border: 2px solid beige;
        margin-left: 20px;
        border-style: dotted;
        border-radius: 20px;
        background-color:darkolivegreen;
        margin-bottom: 10px;
      }

      .nav-link {
        color:beige;
      }

      .btn-outline-info {
        border: 2px solid beige;
        margin-left: 10px;
        border-style: dotted;
        border-radius: 20px;
        background-color:darkolivegreen;
      }

      .btn-success {
        border: 2px solid beige;
        margin-left: 10px;
        border-style: dotted;
        border-radius: 20px;
        background-color:darkolivegreen;
        margin-right: 20px;
      }

      .form-control {
        border: 5px dotted darkolivegreen ;
        background-color:palegoldenrod;
      }

      .form-control:focus, .form-control:active, .form-password:focus {
        box-shadow:none;
        background-color: #e6ffff;
      }

      .bg-image {
        background-image: url('https://previews.123rf.com/images/vicushka/vicushka1506/vicushka150600102/41061682-feuilles-de-foug%C3%A8re-sur-la-nature-floue-banni%C3%A8re-de-fond-pour-le-site-web.jpg');
        height: 400px; 
        width: 100%;
        overflow: hidden;
        margin-top: -300px;
      }

      div#loading {
        width: 170px;
        margin-top: 5%;
        margin-left: 43%;
        padding: 10px;
        padding-top: 0;
        display: none;
        cursor: wait;
        border-radius: 10px;
        background-color: rgba(0,0,0,.3);
        color: darkolivegreen;
        text-align: center;
        font-size: 0.8em;
      }
    </style>
    <script type="text/javascript">
      // <![CDATA[
        function loading(){
          $("#loading").show();
          $("#content").hide();       
        }
      // ]]>
      </script>
  </head>

  <body>
    <!-- Barre de navigation -->
    <nav class="navbar navbar-expand-sm bg-dark navbar-dark justify-content-between">
        <ul class="navbar-nav ml-auto">
          <li class="navbar-brand">
            <a href="{{ url_for('accueil') }}">
              <img src="https://cdn-icons-png.flaticon.com/512/7593/7593027.png" style="width:40px;">
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{{ url_for('herbier') }}">Coin herbier</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{{ url_for('poemes') }}">Coin poèmes</a>
          <!-- Si l'utilisateur est connecté, lui proposer de se déconnecter -->
          {%if current_user.is_authenticated %}
          <li class="nav-item">
            <a class="nav-link" href="{{ url_for('deconnexion') }}">Se déconnecter ({{ current_user.pseudo }})</a>
          </li>
          <!-- Sinon, lui proposer de se connecter ou de créer un compte-->
          {% else %}
          <li class="nav-item">
            <a class="nav-link" href="{{ url_for('connexion') }}">Se connecter</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{{ url_for('creation_utilisateur') }}">S'enregistrer</a>
          </li>
          {% endif %}
        </ul>
        {% include "partials/formulaires/recherche_rapide.html" %}
    </nav>

    <!-- Style des flashing messages pour transmettre des informations à l'utilisateur -->
    <div class="container">
      {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
      <div class="row">
        <div class="col">
          {% for category, message in messages %}
          <div class="alert alert-{{category}}" role="alert">{{ message }}</div>
          {% endfor %}
        </div>
      </div>
      {% endif %}
      {% endwith %}
    </div>
  
    <!-- Bannière du site -->
    <header class="jumbotron-fluid">
      <div class="container">
        <div class="col">
          <h1 class="text-center">Le poète à la main verte</h1>
        </div>
      </div>
      <div class="bg-image"></div>
    </header>
    
    <!-- Message de chargement pour requêtes d'identification des plantes qui prennent 2 à 5s -->
    <div id="loading">
      <img src="/statics/loading.gif" width="70px">
      <br>
      Chargement des données...
    </div>
    <!-- Contenu à afficher quand la fonction est exécutée -->
    <div id="content">
      {% block body%}{%endblock%}
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
        crossorigin="anonymous"></script>
  </body>
</html>